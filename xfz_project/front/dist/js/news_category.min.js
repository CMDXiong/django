function NewsCategory(){}NewsCategory.prototype.run=function(){var t=this;t.listenAddCategoryEvent(),t.listenEditCategoryEvent(),t.listenDeleteCategoryEvent()},NewsCategory.prototype.listenAddCategoryEvent=function(){$("#add-btn").click(function(){xfzalert.alertOneInput({title:"添加新闻分类",placeholder:"请输入新闻分类",confirmCallback:function(t){xfzajax.post({url:"/cms/add_news_category/",data:{name:t},success:function(t){200===t.code?window.location.reload():xfzalert.close()},fail:function(){}})}})})},NewsCategory.prototype.listenEditCategoryEvent=function(){$(".edit-btn").click(function(){var t=$(this).parent().parent(),e=t.attr("data-pk"),n=t.attr("data-name");xfzalert.alertOneInput({title:"修改分类名称",placeholder:"请输入新的分类名称",value:n,confirmCallback:function(t){xfzajax.post({url:"/cms/edit_news_category/",data:{pk:e,name:t},success:function(t){200===t.code?window.location.reload():(xfzalert.close(),window.messageBox.showError(t.message))},fail:function(){}})}})})},NewsCategory.prototype.listenDeleteCategoryEvent=function(){$(".delete-btn").click(function(){var e=$(this).parent().parent().attr("data-pk");xfzalert.alertConfirm({title:"您确认要删除这个分类吗？",confirmCallback:function(t){xfzajax.post({url:"/cms/delete_news_category/",data:{pk:e},success:function(t){200===t.code?window.location.reload():(xfzalert.close(),window.messageBox.showError(t.message))},fail:function(){}})}})})},$(function(){(new NewsCategory).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3NfY2F0ZWdvcnkuanMiXSwibmFtZXMiOlsiTmV3c0NhdGVnb3J5IiwicHJvdG90eXBlIiwicnVuIiwic2VsZiIsInRoaXMiLCJsaXN0ZW5BZGRDYXRlZ29yeUV2ZW50IiwibGlzdGVuRWRpdENhdGVnb3J5RXZlbnQiLCJsaXN0ZW5EZWxldGVDYXRlZ29yeUV2ZW50IiwiJCIsImNsaWNrIiwieGZ6YWxlcnQiLCJhbGVydE9uZUlucHV0IiwidGl0bGUiLCJwbGFjZWhvbGRlciIsImNvbmZpcm1DYWxsYmFjayIsImlucHV0VmFsdWUiLCJ4ZnphamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJuYW1lIiwic3VjY2VzcyIsInJlc3VsdCIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwiY2xvc2UiLCJmYWlsIiwidHIiLCJwYXJlbnQiLCJwayIsImF0dHIiLCJ2YWx1ZSIsIm1lc3NhZ2VCb3giLCJzaG93RXJyb3IiLCJhbGVydENvbmZpcm0iXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLGdCQUtUQSxhQUFhQyxVQUFVQyxJQUFNLFdBQ3pCLElBQUlDLEVBQU9DLEtBQ1hELEVBQUtFLHlCQUNMRixFQUFLRywwQkFDTEgsRUFBS0ksNkJBR1RQLGFBQWFDLFVBQVVJLHVCQUF5QixXQUMvQkcsRUFBRSxZQUNSQyxNQUFNLFdBQ1RDLFNBQVNDLGNBQWMsQ0FDbkJDLE1BQVMsU0FDVEMsWUFBZSxVQUNmQyxnQkFBbUIsU0FBVUMsR0FDekJDLFFBQVFDLEtBQUssQ0FDVEMsSUFBTywwQkFDUEMsS0FBTyxDQUNIQyxLQUFPTCxHQUVYTSxRQUFVLFNBQVVDLEdBQ00sTUFBbkJBLEVBQWEsS0FDWkMsT0FBT0MsU0FBU0MsU0FFaEJmLFNBQVNnQixTQUlqQkMsS0FBTyxxQkFXM0IzQixhQUFhQyxVQUFVSyx3QkFBMEIsV0FFL0JFLEVBQUUsYUFDUkMsTUFBTSxXQUNWLElBQ0ltQixFQURhcEIsRUFBRUosTUFDQ3lCLFNBQVNBLFNBQ3pCQyxFQUFLRixFQUFHRyxLQUFLLFdBQ2JYLEVBQU9RLEVBQUdHLEtBQUssYUFDbkJyQixTQUFTQyxjQUFjLENBQ25CQyxNQUFTLFNBQ1RDLFlBQWUsWUFDZm1CLE1BQVNaLEVBQ1ROLGdCQUFtQixTQUFVQyxHQUN6QkMsUUFBUUMsS0FBSyxDQUNUQyxJQUFPLDJCQUNQQyxLQUFPLENBQ0hXLEdBQUtBLEVBQ0xWLEtBQU9MLEdBRVhNLFFBQVUsU0FBVUMsR0FDTSxNQUFuQkEsRUFBYSxLQUNaQyxPQUFPQyxTQUFTQyxVQUVoQmYsU0FBU2dCLFFBQ1RILE9BQU9VLFdBQVdDLFVBQVVaLEVBQWdCLFdBR3BESyxLQUFPLHFCQVkzQjNCLGFBQWFDLFVBQVVNLDBCQUE0QixXQUUvQkMsRUFBRSxlQUNSQyxNQUFNLFdBQ1osSUFFSXFCLEVBRmF0QixFQUFFSixNQUNDeUIsU0FBU0EsU0FDakJFLEtBQUssV0FDakJyQixTQUFTeUIsYUFBYSxDQUNsQnZCLE1BQVMsZUFDVEUsZ0JBQW1CLFNBQVVDLEdBQ3pCQyxRQUFRQyxLQUFLLENBQ1RDLElBQU8sNkJBQ1BDLEtBQU8sQ0FDSFcsR0FBS0EsR0FFVFQsUUFBVSxTQUFVQyxHQUNNLE1BQW5CQSxFQUFhLEtBQ1pDLE9BQU9DLFNBQVNDLFVBRWhCZixTQUFTZ0IsUUFDVEgsT0FBT1UsV0FBV0MsVUFBVVosRUFBZ0IsV0FHcERLLEtBQU8scUJBWTNCbkIsRUFBRSxZQUNnQixJQUFJUixjQUNWRSIsImZpbGUiOiJuZXdzX2NhdGVnb3J5Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIE5ld3NDYXRlZ29yeSgpIHtcblxuXG59XG5cbk5ld3NDYXRlZ29yeS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLmxpc3RlbkFkZENhdGVnb3J5RXZlbnQoKTtcbiAgICBzZWxmLmxpc3RlbkVkaXRDYXRlZ29yeUV2ZW50KCk7XG4gICAgc2VsZi5saXN0ZW5EZWxldGVDYXRlZ29yeUV2ZW50KCk7XG59O1xuXG5OZXdzQ2F0ZWdvcnkucHJvdG90eXBlLmxpc3RlbkFkZENhdGVnb3J5RXZlbnQgPSBmdW5jdGlvbigpe1xuICAgIHZhciBhZGRCdG4gPSAkKCcjYWRkLWJ0bicpO1xuICAgIGFkZEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHhmemFsZXJ0LmFsZXJ0T25lSW5wdXQoe1xuICAgICAgICAgICAgJ3RpdGxlJzogJ+a3u+WKoOaWsOmXu+WIhuexuycsXG4gICAgICAgICAgICAncGxhY2Vob2xkZXInOiAn6K+36L6T5YWl5paw6Ze75YiG57G7JyxcbiAgICAgICAgICAgICdjb25maXJtQ2FsbGJhY2snOiBmdW5jdGlvbiAoaW5wdXRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHhmemFqYXgucG9zdCh7XG4gICAgICAgICAgICAgICAgICAgICd1cmwnOiAnL2Ntcy9hZGRfbmV3c19jYXRlZ29yeS8nLFxuICAgICAgICAgICAgICAgICAgICAnZGF0YSc6e1xuICAgICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOmlucHV0VmFsdWVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOmZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmNsb3NlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aW5kb3cubWVzc2FnZUJveC5zaG93RXJyb3IocmVzdWx0WydtZXNzYWdlJ10pXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdmYWlsJzpmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5OZXdzQ2F0ZWdvcnkucHJvdG90eXBlLmxpc3RlbkVkaXRDYXRlZ29yeUV2ZW50ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGVkaXRCdG4gPSAkKFwiLmVkaXQtYnRuXCIpO1xuICAgIGVkaXRCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY3VycmVudEJ0biA9ICQodGhpcyk7XG4gICAgICAgIHZhciB0ciA9IGN1cnJlbnRCdG4ucGFyZW50KCkucGFyZW50KCk7XG4gICAgICAgIHZhciBwayA9IHRyLmF0dHIoJ2RhdGEtcGsnKTtcbiAgICAgICAgdmFyIG5hbWUgPSB0ci5hdHRyKCdkYXRhLW5hbWUnKTtcbiAgICAgICAgeGZ6YWxlcnQuYWxlcnRPbmVJbnB1dCh7XG4gICAgICAgICAgICAndGl0bGUnOiAn5L+u5pS55YiG57G75ZCN56ewJyxcbiAgICAgICAgICAgICdwbGFjZWhvbGRlcic6ICfor7fovpPlhaXmlrDnmoTliIbnsbvlkI3np7AnLFxuICAgICAgICAgICAgJ3ZhbHVlJzogbmFtZSxcbiAgICAgICAgICAgICdjb25maXJtQ2FsbGJhY2snOiBmdW5jdGlvbiAoaW5wdXRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHhmemFqYXgucG9zdCh7XG4gICAgICAgICAgICAgICAgICAgICd1cmwnOiAnL2Ntcy9lZGl0X25ld3NfY2F0ZWdvcnkvJyxcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOntcbiAgICAgICAgICAgICAgICAgICAgICAgICdwayc6cGssXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6aW5wdXRWYWx1ZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6ZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGZ6YWxlcnQuY2xvc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dFcnJvcihyZXN1bHRbJ21lc3NhZ2UnXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ2ZhaWwnOmZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cblxuTmV3c0NhdGVnb3J5LnByb3RvdHlwZS5saXN0ZW5EZWxldGVDYXRlZ29yeUV2ZW50ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGRlbGV0ZUJ0biA9ICQoXCIuZGVsZXRlLWJ0blwiKTtcbiAgICBkZWxldGVCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY3VycmVudEJ0biA9ICQodGhpcyk7XG4gICAgICAgIHZhciB0ciA9IGN1cnJlbnRCdG4ucGFyZW50KCkucGFyZW50KCk7XG4gICAgICAgIHZhciBwayA9IHRyLmF0dHIoJ2RhdGEtcGsnKTtcbiAgICAgICAgeGZ6YWxlcnQuYWxlcnRDb25maXJtKHtcbiAgICAgICAgICAgICd0aXRsZSc6ICfmgqjnoa7orqTopoHliKDpmaTov5nkuKrliIbnsbvlkJfvvJ8nLFxuICAgICAgICAgICAgJ2NvbmZpcm1DYWxsYmFjayc6IGZ1bmN0aW9uIChpbnB1dFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgeGZ6YWpheC5wb3N0KHtcbiAgICAgICAgICAgICAgICAgICAgJ3VybCc6ICcvY21zL2RlbGV0ZV9uZXdzX2NhdGVnb3J5LycsXG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzp7XG4gICAgICAgICAgICAgICAgICAgICAgICAncGsnOnBrLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6ZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGZ6YWxlcnQuY2xvc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dFcnJvcihyZXN1bHRbJ21lc3NhZ2UnXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ2ZhaWwnOmZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cblxuJChmdW5jdGlvbiAoKSB7XG4gICB2YXIgY2F0ZWdvcnkgPSBuZXcgTmV3c0NhdGVnb3J5KCk7XG4gICBjYXRlZ29yeS5ydW4oKTtcbn0pOyJdfQ==
